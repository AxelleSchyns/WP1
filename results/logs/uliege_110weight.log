-----------------------------------------------------------------------------------------------
------------------------------------- Model 6 --------------------------------------------------
-----------------------------------------------------------------------------------------------
Weights: /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/byol_light/model15/epoch=99-step=164900.ckpt
Indexing
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Time of the model: 2.9069862365722656
Time of the transfer: 42.95445203781128
Time of the indexing: 6.9439170360565186
T_indexing = 58.00558686256409
all
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Loading FAISS index from file
top-1 accuracy :  [0.73906481]
top-5 accuracy :  [0.9029105]
top-1 accuracy proj :  [0.93535694]
top-5 accuracy proj :  [0.95748756]
top-1 accuracy sim :  [0.9358566]
top-5 accuracy sim :  [0.95779985]
maj accuracy class :  [0.75564716]
maj accuracy proj :  [0.93561718]
maj accuracy sim :  [0.9360752]
Props:  [[0.73906481]
 [0.73578581]
 [0.73513001]
 [0.73302729]
 [0.73318344]
 [0.73195511]
 [0.72861366]
 [0.73153873]
 [0.72822851]
 [0.7299669 ]]
f1 score :  0.7390648096100597
t_tot: 1309.4355289936066
t_model: 200.06312537193298
t_transfer: 1.794562816619873
t_search: 1095.5203573703766
Proportions are: [[0.73906481]
 [0.73578581]
 [0.73513001]
 [0.73302729]
 [0.73318344]
 [0.73195511]
 [0.72861366]
 [0.73153873]
 [0.72822851]
 [0.7299669 ]]
-----------------------------------------------------------------------------------------------
------------------------------------- Model 7 --------------------------------------------------
-----------------------------------------------------------------------------------------------
Weights: /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/byol_light/model18/epoch=99-step=164900.ckpt
Indexing
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Time of the model: 2.7871341705322266
Time of the transfer: 43.28269052505493
Time of the indexing: 6.155444383621216
T_indexing = 57.33001661300659
all
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Loading FAISS index from file
top-1 accuracy :  [0.75416901]
top-5 accuracy :  [0.89422897]
top-1 accuracy proj :  [0.94085316]
top-5 accuracy proj :  [0.95004476]
top-1 accuracy sim :  [0.94090521]
top-5 accuracy sim :  [0.95007599]
maj accuracy class :  [0.77177149]
maj accuracy proj :  [0.9421023]
maj accuracy sim :  [0.94224804]
Props:  [[0.75416901]
 [0.75166032]
 [0.74891221]
 [0.74845419]
 [0.74670539]
 [0.74567485]
 [0.74333271]
 [0.74257281]
 [0.74341598]
 [0.74251036]]
f1 score :  0.7541690088064456
t_tot: 1374.714427471161
t_model: 217.50581192970276
t_transfer: 1.8320643901824951
t_search: 1142.6535816192627
Proportions are: [[0.75416901]
 [0.75166032]
 [0.74891221]
 [0.74845419]
 [0.74670539]
 [0.74567485]
 [0.74333271]
 [0.74257281]
 [0.74341598]
 [0.74251036]]
-----------------------------------------------------------------------------------------------
------------------------------------- Model 11 --------------------------------------------------
-----------------------------------------------------------------------------------------------
Weights: /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model30/checkpointv1_99.pth
Indexing
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Take key teacher in provided checkpoint dict
Pretrained weights found at /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model30/checkpointv1_99.pth and loaded with msg: _IncompatibleKeys(missing_keys=[], unexpected_keys=['head.mlp.0.weight', 'head.mlp.0.bias', 'head.mlp.2.weight', 'head.mlp.2.bias', 'head.mlp.4.weight', 'head.mlp.4.bias', 'head.last_layer.weight_g', 'head.last_layer.weight_v', 'head.last_layer2.weight_g', 'head.last_layer2.weight_v'])
Time of the model: 2.874401569366455
Time of the transfer: 39.84845590591431
Time of the indexing: 7.065765857696533
T_indexing = 55.084858655929565
all
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Take key teacher in provided checkpoint dict
Pretrained weights found at /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model30/checkpointv1_99.pth and loaded with msg: _IncompatibleKeys(missing_keys=[], unexpected_keys=['head.mlp.0.weight', 'head.mlp.0.bias', 'head.mlp.2.weight', 'head.mlp.2.bias', 'head.mlp.4.weight', 'head.mlp.4.bias', 'head.last_layer.weight_g', 'head.last_layer.weight_v', 'head.last_layer2.weight_g', 'head.last_layer2.weight_v'])
Loading FAISS index from file
top-1 accuracy :  [0.77891241]
top-5 accuracy :  [0.89500968]
top-1 accuracy proj :  [0.92664418]
top-5 accuracy proj :  [0.94333063]
top-1 accuracy sim :  [0.92717507]
top-5 accuracy sim :  [0.94438199]
maj accuracy class :  [0.78779173]
maj accuracy proj :  [0.92532217]
maj accuracy sim :  [0.92606125]
Props:  [[0.77891241]
 [0.77406158]
 [0.7723336 ]
 [0.77218787]
 [0.76952304]
 [0.7688256 ]
 [0.76854454]
 [0.76660837]
 [0.76508858]
 [0.76317324]]
f1 score :  0.7789124143817792
t_tot: 1939.803493976593
t_model: 222.2638852596283
t_transfer: 4.651845932006836
t_search: 1699.993381023407
Proportions are: [[0.77891241]
 [0.77406158]
 [0.7723336 ]
 [0.77218787]
 [0.76952304]
 [0.7688256 ]
 [0.76854454]
 [0.76660837]
 [0.76508858]
 [0.76317324]]
-----------------------------------------------------------------------------------------------
------------------------------------- Model 12 --------------------------------------------------
-----------------------------------------------------------------------------------------------
Weights: /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model31/checkpointV0_0085.pth
Indexing
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Take key teacher in provided checkpoint dict
Pretrained weights found at /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model31/checkpointV0_0085.pth and loaded with msg: _IncompatibleKeys(missing_keys=[], unexpected_keys=['head.mlp.0.weight', 'head.mlp.0.bias', 'head.mlp.2.weight', 'head.mlp.2.bias', 'head.mlp.4.weight', 'head.mlp.4.bias', 'head.last_layer.weight_g', 'head.last_layer.weight_v', 'head.last_layer2.weight_g', 'head.last_layer2.weight_v'])
Time of the model: 2.7695438861846924
Time of the transfer: 39.958213567733765
Time of the indexing: 6.881759405136108
T_indexing = 54.98681616783142
all
Model vit_small 16x16 built.
Model vit_base 16x16 built.
Take key teacher in provided checkpoint dict
Pretrained weights found at /home/labsig/Documents/Axelle/cytomine/WP1/weights_folder/ibot/model31/checkpointV0_0085.pth and loaded with msg: _IncompatibleKeys(missing_keys=[], unexpected_keys=['head.mlp.0.weight', 'head.mlp.0.bias', 'head.mlp.2.weight', 'head.mlp.2.bias', 'head.mlp.4.weight', 'head.mlp.4.bias', 'head.last_layer.weight_g', 'head.last_layer.weight_v', 'head.last_layer2.weight_g', 'head.last_layer2.weight_v'])
Loading FAISS index from file
top-1 accuracy :  [0.76676452]
top-5 accuracy :  [0.8888993]
top-1 accuracy proj :  [0.9312556]
top-5 accuracy proj :  [0.94624529]
top-1 accuracy sim :  [0.93139092]
top-5 accuracy sim :  [0.94652635]
maj accuracy class :  [0.77632045]
maj accuracy proj :  [0.93047488]
maj accuracy sim :  [0.93087044]
Props:  [[0.76676452]
 [0.76228843]
 [0.75991506]
 [0.75940499]
 [0.7572294 ]
 [0.75463744]
 [0.7536069 ]
 [0.75403369]
 [0.75272209]
 [0.74956801]]
f1 score :  0.7667645160618741
t_tot: 1906.91770195961
t_model: 212.65325570106506
t_transfer: 5.150275468826294
t_search: 1676.2697236537933
Proportions are: [[0.76676452]
 [0.76228843]
 [0.75991506]
 [0.75940499]
 [0.7572294 ]
 [0.75463744]
 [0.7536069 ]
 [0.75403369]
 [0.75272209]
 [0.74956801]]
